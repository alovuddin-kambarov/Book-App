package uz.coder.mvpexample.adaptersimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.view.animation.AnimationUtilsimport androidx.recyclerview.widget.RecyclerViewimport com.squareup.picasso.Callbackimport com.squareup.picasso.Picassoimport uz.coder.mvpexample.Rimport uz.coder.mvpexample.databinding.BookItem2Bindingimport uz.coder.mvpexample.models.books.books.BookXimport java.util.*import kotlin.collections.ArrayListclass MyAdapter3(private var arraylist: ArrayList<BookX>, var onClick: OnClick) :    RecyclerView.Adapter<MyAdapter3.ViewH>() {    private var list2 = ArrayList<BookX>()    init {        list2 = arraylist    }    inner class ViewH(var binding: BookItem2Binding) : RecyclerView.ViewHolder(binding.root) {        fun onBind(myClass: BookX) {            itemView.animation = AnimationUtils.loadAnimation(binding.root.context, R.anim.recy_anim2)            Picasso.get().load(myClass.book_image).resize(200,200).into(binding.booImage, object :Callback{                override fun onSuccess() {                    binding.shimmerView.visibility = View.GONE                }                override fun onError(e: Exception?) {                    binding.booImage.setImageResource(R.drawable.warning)                }            })            binding.bookName.text = myClass.author            binding.booImage.setOnClickListener { onClick.click(myClass) }        }    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewH {        return ViewH(BookItem2Binding.inflate(LayoutInflater.from(parent.context), parent, false))    }    override fun getItemCount(): Int {        return arraylist.size    }    override fun onBindViewHolder(holder: ViewH, position: Int) {        holder.onBind(arraylist[position])    }    interface OnClick{        fun click(bookX: BookX)    }    fun filter(str: String) {        arraylist = ArrayList()        for (i in list2.indices) {            if (list2[i].title.lowercase(Locale.getDefault()).contains(str.lowercase(Locale.getDefault()))) {                arraylist.add(list2[i])            }        }        notifyDataSetChanged()    }}